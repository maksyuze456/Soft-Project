<?xml version="1.0" encoding="UTF-8"?>
<project_specification>
  <project_name>Pokemon Explorer</project_name>

  <overview>
    A React-based Pokemon web application that fetches data from the external PokeAPI and displays Pokemon information. The application provides both individual Pokemon detail views and a paginated list view of all Pokemon. Built using TanStack Start as the full-stack framework with server-side rendering capabilities, the app leverages TanStack Query for efficient data caching and state management of API responses. The UI is constructed using the shadcn component library with Tailwind CSS for styling, providing a modern, responsive design with card-based Pokemon displays.
  </overview>

  <technology_stack>
    <technology>React 19.2</technology>
    <technology>TypeScript 5.7</technology>
    <technology>TanStack Start (Full-stack React framework)</technology>
    <technology>TanStack Router (File-based routing)</technology>
    <technology>TanStack Query (Data fetching and caching)</technology>
    <technology>TanStack Table (Pagination management)</technology>
    <technology>Vite 7.1 (Build tool and dev server)</technology>
    <technology>Nitro (Server runtime)</technology>
    <technology>Tailwind CSS 4.0 (Styling)</technology>
    <technology>shadcn/ui (Component library)</technology>
    <technology>Radix UI (Headless UI primitives)</technology>
    <technology>class-variance-authority (Component variants)</technology>
    <technology>clsx &amp; tailwind-merge (Class utilities)</technology>
    <technology>Zod (Schema validation)</technology>
    <technology>Lucide React (Icons)</technology>
    <technology>Biome (Linting and formatting)</technology>
    <technology>Vitest (Unit testing - configured)</technology>
    <technology>Testing Library (React/DOM testing - configured)</technology>
    <technology>jsdom (DOM environment for tests)</technology>
    <technology>web-vitals (Performance monitoring)</technology>
  </technology_stack>

  <core_capabilities>
    <capability>Fetch and display Pokemon data from external PokeAPI</capability>
    <capability>View individual Pokemon details with high-quality sprites</capability>
    <capability>Browse paginated list of all Pokemon (20 per page)</capability>
    <capability>Server-side data fetching via TanStack Start server functions</capability>
    <capability>Client-side data caching with TanStack Query (infinite stale time)</capability>
    <capability>Responsive card-based UI with hover effects and animations</capability>
    <capability>Dark mode support via CSS custom properties</capability>
    <capability>File-based routing with automatic route generation</capability>
    <capability>Development tools integration (TanStack Router Devtools, React Query Devtools, TanStack Devtools)</capability>
    <capability>Type-safe API responses with TypeScript</capability>
  </core_capabilities>

  <implemented_features>
    <feature>
      <name>Pokemon List Page with Pagination</name>
      <description>Displays a paginated grid of Pokemon cards fetched from PokeAPI. Uses TanStack Table for pagination state management with manual pagination mode. Shows 20 Pokemon per page with previous/next navigation and current page indicator. Features loading and error states.</description>
      <file_locations>
        <location>src/routes/pokemons/index.tsx</location>
        <location>src/hooks/usePokemonPage.ts</location>
        <location>src/hooks/usePagination.ts</location>
        <location>src/fn/getPokemonPage.ts</location>
        <location>src/components/Pagination.tsx</location>
      </file_locations>
    </feature>
    <feature>
      <name>Individual Pokemon Detail View</name>
      <description>Displays detailed information for a single Pokemon by ID. Fetches Pokemon data using server functions and displays high-quality dream world sprites. Includes navigation back to the Pokemon list.</description>
      <file_locations>
        <location>src/routes/pokemons/$id/index.tsx</location>
        <location>src/hooks/usePokemon.ts</location>
        <location>src/fn/getPokemon.ts</location>
      </file_locations>
    </feature>
    <feature>
      <name>Pokemon Card Component</name>
      <description>Reusable card component that displays Pokemon image, name, and ID badge. Supports multiple sizes (default and medium). Features gradient background, hover animations with scale effect, and shadow transitions.</description>
      <file_locations>
        <location>src/components/PokemonCard.tsx</location>
      </file_locations>
    </feature>
    <feature>
      <name>Server Functions for API Calls</name>
      <description>TanStack Start server functions that handle API calls to PokeAPI on the server side. Includes input validation and error handling. Configured to use environment variable for base URL.</description>
      <file_locations>
        <location>src/fn/getPokemon.ts</location>
        <location>src/fn/getPokemonPage.ts</location>
      </file_locations>
    </feature>
    <feature>
      <name>Query Client Configuration</name>
      <description>Centralized TanStack Query client configuration with aggressive caching strategy (infinite stale time, no refetch on window focus/reconnect/mount) for optimal performance with Pokemon data.</description>
      <file_locations>
        <location>src/lib/queryClient.ts</location>
      </file_locations>
    </feature>
    <feature>
      <name>shadcn UI Components</name>
      <description>Pre-configured shadcn components including Button, Card (with Header, Footer, Title, Content, Description, Action variants), and Badge. All components support variants, sizes, and composable slot patterns.</description>
      <file_locations>
        <location>src/components/ui/button.tsx</location>
        <location>src/components/ui/card.tsx</location>
        <location>src/components/ui/badge.tsx</location>
      </file_locations>
    </feature>
    <feature>
      <name>Root Layout with Providers</name>
      <description>Application root layout providing QueryClientProvider wrapper, meta tags configuration, stylesheet linking, and development tools integration (TanStack Devtools, Router Devtools, React Query Devtools).</description>
      <file_locations>
        <location>src/routes/__root.tsx</location>
      </file_locations>
    </feature>
    <feature>
      <name>Biome Linting Configuration</name>
      <description>Configured Biome linter and formatter with recommended rules, tab indentation, double quotes for JavaScript, and organized imports. Excludes auto-generated files (routeTree.gen.ts, styles.css).</description>
      <file_locations>
        <location>biome.json</location>
      </file_locations>
    </feature>
    <feature>
      <name>Utility Functions</name>
      <description>Helper functions including cn() for class name merging, extractIdFromUrl() for parsing Pokemon IDs from API URLs, and buildSpriteUrl() for constructing sprite image URLs.</description>
      <file_locations>
        <location>src/lib/utils.ts</location>
      </file_locations>
    </feature>
    <feature>
      <name>Type Definitions</name>
      <description>TypeScript type definitions for Pokemon data structures used throughout the application.</description>
      <file_locations>
        <location>src/types/PokemonTypes.ts</location>
      </file_locations>
    </feature>
    <feature>
      <name>Pokemon Search by Name</name>
      <description>Add search input to filter Pokemon by name on the list page. Implements debounced search with TanStack Query to fetch filtered results from PokeAPI&apos;s search endpoint, maintaining pagination support.</description>
    </feature>
    <feature>
      <name>Fix Pokemon search to exclude alternate forms</name>
      <description>When searching some pokemons, the wrong ones gettings fetched, review the code where the querieng happens. The issue is that some forms of those pokemons are getting fetched, and when searching for individuals pokemon like pikachu, the other forms getting fetched such as Pikachu-rock-star, Pikachu-belle, Pikachu-pop-star. It has to be fixed. And i also know with pagination, the count of all pokemons is consistent and it is 1350. As an example, Pikachu-pop-star has id of 10082, thats wrong</description>
    </feature>
  </implemented_features>

  <additional_requirements>
    <requirement>Node.js runtime environment</requirement>
    <requirement>Environment variable POKEAPI_BASE_URL must be set (defaults to https://pokeapi.co/api/v2)</requirement>
    <requirement>Internet connectivity for PokeAPI access</requirement>
    <requirement>Modern browser with ES2022 support</requirement>
  </additional_requirements>

  <development_guidelines>
    <guideline>Use Biome for linting and formatting (npm run lint, npm run format, npm run check)</guideline>
    <guideline>Follow file-based routing conventions in src/routes/ directory</guideline>
    <guideline>Use TanStack Start server functions for API calls (src/fn/)</guideline>
    <guideline>Create custom hooks for data fetching logic (src/hooks/)</guideline>
    <guideline>Place reusable UI components in src/components/ui/ following shadcn patterns</guideline>
    <guideline>Use TypeScript strict mode with no unused variables/parameters</guideline>
    <guideline>Maintain path aliases with @/* for src directory imports</guideline>
    <guideline>Use tab indentation and double quotes per Biome configuration</guideline>
    <guideline>Leverage TanStack Query for all data fetching with appropriate query keys</guideline>
    <guideline>Follow component composition patterns with shadcn&apos;s slot-based approach</guideline>
  </development_guidelines>

  <implementation_roadmap>
    <phase>
      <name>Core Pokemon Fetching</name>
      <status>completed</status>
      <description>Server functions for fetching individual Pokemon and paginated Pokemon lists from PokeAPI, with custom hooks for data management using TanStack Query.</description>
    </phase>
    <phase>
      <name>UI Component Library</name>
      <status>completed</status>
      <description>shadcn-based component library with Button, Card, and Badge components. Tailwind CSS integration with custom theme variables and dark mode support.</description>
    </phase>
    <phase>
      <name>Pokemon List View</name>
      <status>completed</status>
      <description>Paginated view of all Pokemon with card grid layout, loading/error states, and navigation to individual Pokemon pages using TanStack Table for pagination.</description>
    </phase>
    <phase>
      <name>Pokemon Detail View</name>
      <status>completed</status>
      <description>Individual Pokemon page showing detailed information with high-quality sprites and navigation back to list.</description>
    </phase>
    <phase>
      <name>Linting &amp; Code Quality</name>
      <status>completed</status>
      <description>Biome linter and formatter configured with recommended rules, organized imports, and proper file exclusions.</description>
    </phase>
    <phase>
      <name>Unit Tests</name>
      <status>pending</status>
      <description>Unit tests for components, hooks, and utility functions using Vitest and Testing Library. Test coverage for Pokemon card rendering, pagination logic, and data fetching hooks.</description>
    </phase>
    <phase>
      <name>Integration Tests</name>
      <status>pending</status>
      <description>Integration tests for page components and API interactions using Vitest. Tests for route navigation, data loading, and error handling.</description>
    </phase>
    <phase>
      <name>End-to-End Tests</name>
      <status>pending</status>
      <description>End-to-end tests using Playwright for user flows including browsing Pokemon list, pagination navigation, and viewing individual Pokemon details.</description>
    </phase>
    <phase>
      <name>Sentry Error Monitoring</name>
      <status>pending</status>
      <description>Integration of Sentry SDK for runtime error tracking, performance monitoring, and crash reporting in both client and server environments.</description>
    </phase>
    <phase>
      <name>Docker Containerization</name>
      <status>pending</status>
      <description>Dockerfile for building production container image and docker-compose.yml for orchestrating all services (app server, potentially caching layer) in a single configuration file.</description>
    </phase>
  </implementation_roadmap>
</project_specification>